I"Æk<h2 id="1-í…œí”Œë¦¿-ì—”ì§„template-engine">1. í…œí”Œë¦¿ ì—”ì§„(Template Engine)</h2>

<p>íƒ€ì„ë¦¬í”„ì— ëŒ€í•´ ì•Œì•„ë³´ê¸° ì „ì— ë¨¼ì € í…œí”Œë¦¿ ì—”ì§„ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤. ì›¹ ì„œë¹„ìŠ¤ë¥¼ ë§Œë“¤ ë•Œì—ëŠ” ì„œë²„ì˜ ë°ì´í„°ì™€ ì •ì ìì›(html, css, image)ì„ ì¡°í•©í•´ì•¼ í•©ë‹ˆë‹¤. ì„œë²„ì—ì„œ ë°ì´í„°ë¥¼ ë³´ë‚´ ì›¹ ì„œë¹„ìŠ¤ë¥¼ ë§Œë“œëŠ” ë°©ë²•ì—ëŠ” í¬ê²Œ 2ê°€ì§€ê°€ ìˆìŠµë‹ˆë‹¤.</p>
<ol>
  <li>
    <dl>
      <dt>SPA(Single Page Application)</dt>
      <dd>ìµœì´ˆ í•œë²ˆ ì „ì²´í˜ì´ì§€ë¥¼ ë‹¤ ë¶ˆëŸ¬ì˜¤ê³  ì‘ë‹µë°ì´í„°ë§Œ í˜ì´ì§€ íŠ¹ì •ë¶€ë¶„ ë Œë”ë§.</dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt>SSR(Server Side Rendering)</dt>
      <dd>ì „í†µì ì¸ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°©ì‹. ìš”ì²­ì‹œë§ˆë‹¤ ì„œë²„ì—ì„œ ì²˜ë¦¬í•œ í›„ ìƒˆë¡œê³ ì¹¨ìœ¼ë¡œ í˜ì´ì§€ì— ëŒ€í•œ ì‘ë‹µ.</dd>
    </dl>
  </li>
</ol>

<p>ë³´í†µ ìë°”ì—ì„œ ì›¹ ê°œë°œì‹œ JSP(Java Server Page)ë¥¼ ì´ìš©í•˜ì—¬ ì§„í–‰í•©ë‹ˆë‹¤. JSPë¥¼ ì‚¬ìš©í•˜ë©´ <code class="language-plaintext highlighter-rouge">&lt;% %&gt;</code>í˜•íƒœì˜ ìŠ¤í¬ë¦½íŠ¸ë¦¿ì„ ì‚¬ìš©í•˜ì—¬ ê°œë°œí•˜ê²Œ ë©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ ë°©ì‹ì€ ìŠ¤í¬ë¦½íŠ¸ë¦¿ê³¼ Htmlì´ í˜¼ì¬ëœ ìƒíƒœê°€ ë˜ê³  htmlíƒœê·¸ì˜ ë°˜ë³µì ì¸ ì‚¬ìš©ìœ¼ë¡œ ì¸í•´ ìˆ˜ì •í•˜ê¸° ì–´ë ¤ìš´ ìƒí™©ì´ ë©ë‹ˆë‹¤. ì´ëŸ¬í•œ ìƒíƒœë¥¼ í•´ê²°í•  ìˆ˜ ìˆëŠ” ê²ƒì´ ë°”ë¡œ í…œí”Œë¦¿ ì—”ì§„ ì…ë‹ˆë‹¤. í…œí”Œë¦¿ ì—”ì§„ì´ë€ html(Markup)ê³¼ ë°ì´í„°ë¥¼ ê²°í•œí•œ ê²°ê³¼ë¬¼ì„ ë§Œë“¤ì–´ ì£¼ëŠ” ë„êµ¬ ì…ë‹ˆë‹¤. íƒ€ì„ë¦¬í”„ëŠ” ì´ í…œí”Œë¦¿ ì—”ì§„ì¤‘ í•˜ë‚˜ ì…ë‹ˆë‹¤. ìŠ¤í”„ë§ ë¶€íŠ¸ì—ì„œëŠ” JSPê°€ ì•„ë‹Œ íƒ€ì„ë¦¬í”„ë¥¼ ì‚¬ìš©í•  ê²ƒì„ ê¶Œì¥í•˜ê³  ìˆìŠµë‹ˆë‹¤. ë•Œë¬¸ì— ìŠ¤í”„ë§ ë¶€íŠ¸ì—ì„œ JSPë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ë³„ë„ì˜ ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤.</p>

<p><img src="/img/in-post/thymeleaf/template-engine.png" />
<a href="https://en.wikipedia.org/wiki/Web_template_system"><center>(ì°¸ê³ )ìœ„í‚¤í”¼ë””ì•„</center></a></p>

<h2 id="2-thymeleaf">2. Thymeleaf</h2>

<p>ë¨¼ì € íƒ€ì„ë¦¬í”„ì˜ ì†ì„±ë“¤ì— ëŒ€í•´ ì•Œì•„ë³´ê³  ì‹¤ìŠµì„ ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤.</p>

<ul>
  <li>í‘œí˜„ì‹
    <ul>
      <li>ë³€ìˆ˜ : ${â€¦}</li>
      <li>ì„ íƒ ë³€ìˆ˜ : *{â€¦}</li>
      <li>ë©”ì‹œì§€ : #{â€¦}</li>
      <li>Link URL : @{â€¦}</li>
    </ul>
  </li>
  <li>ë¦¬í„°ëŸ´
    <ul>
      <li>í…ìŠ¤íŠ¸ : â€˜one textâ€™, â€˜Another oneâ€™,â€¦</li>
      <li>ìˆ«ì : 0, 34, 1.0, â€¦</li>
      <li>boolean : true, false</li>
      <li>Null : null</li>
      <li>token : one, sometext, main, â€¦</li>
    </ul>
  </li>
  <li>text opeation
    <ul>
      <li>ë¬¸ìì—´ ì—°ê²° : +</li>
      <li>ë¬¸ì ëŒ€ì²´ : |The name is ${name}|</li>
    </ul>
  </li>
  <li>ì—°ì‚°
    <ul>
      <li>Binary : +, -, *, /, %</li>
      <li>ë§ˆì´ë„ˆìŠ¤ : -</li>
    </ul>
  </li>
  <li>boolean ì—°ì‚°
    <ul>
      <li>Binary : and, or</li>
      <li>ë¶€ì • : !, not</li>
    </ul>
  </li>
  <li>ë¹„êµ ì—°ì‚°
    <ul>
      <li>ë¹„êµì—°ì‚°ì : &gt;, &lt;, &gt;=, &lt;= (gt, lt, ge, le)</li>
      <li>ê· ë“±ì—°ì‚°ì : ==, != (eq, ne)</li>
    </ul>
  </li>
  <li>ì¡°ê±´ ì—°ì‚°
    <ul>
      <li>if-then : (if) ? (then)</li>
      <li>if-then-else : (if) ? (then) : (else)</li>
      <li>Default : (value) ?: (defaultValue)</li>
    </ul>
  </li>
</ul>

<p>ìœ„ì˜ í‘œí˜„ì‹ë“¤ì€ <code class="language-plaintext highlighter-rouge">th:attr</code>ì˜ í˜•íƒœë¡œ ì‚¬ìš©ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. attrë¶€ë¶„ì— ì ë‹¹í•œ ì†ì„±ì„ ë„£ì–´ì£¼ë©´ ë©ë‹ˆë‹¤.(ex. attr, class, text etc) ìœ„ì˜ í‘œí˜„ì‹ê³¼ íƒ€ì„ë¦¬í”„ì˜ ì‚¬ìš©ì€ ì‹¤ìŠµì„ í†µí•´ì„œ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.</p>

<h6 id="ì‹¤ìŠµí™˜ê²½">ì‹¤ìŠµí™˜ê²½</h6>
<ul>
  <li>Spring boot 2.2.5.RELEASE</li>
</ul>

<h6 id="maven-dependencies">maven dependencies</h6>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-thymeleaf<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-web<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<blockquote>
  <p>ì°¸ê³  : thymeleafì™€ webì„ ë³´ë©´ ë²„ì „ì´ ì—†ì„ ê²ƒì´ë‹¤. ë³´í†µ ìš°ë¦¬ê°€ ì˜ì¡´ì„±(ë¼ì´ë¸ŒëŸ¬ë¦¬)ë¥¼ ì¶”ê°€í•˜ê²Œ ë˜ë©´ ë²„ì „ë„ ê°™ì´ ì¶”ê°€í•˜ê²Œ ëœë‹¤. ìœ„ì˜ ë‘ ì˜ì¡´ì„±ì„ ë³´ë©´ ê³µí†µì ì´ ìˆë‹¤. starterë¼ëŠ” ê²ƒì´ ë¶™ì–´ ìˆë‹¤. ë³„ë„ë¡œ ì„¤ì •ì„ ë³€ê²½í•˜ì§€ ì•Šì•˜ë‹¤ë©´ pom.xmlì— <code class="language-plaintext highlighter-rouge">spring-boot-starter-parent</code>ì„ ë³¼ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤. ì´ <code class="language-plaintext highlighter-rouge">spring-boot-starter-parent</code>ë¥¼ ìƒì†ë°›ì•„ ê¸°ë³¸ê°’ì´ ì„¤ì •ëœë‹¤. ë•Œë¬¸ì— ë³„ë„ì˜ ë²„ì „ì„¤ì •ì„ í•˜ì§€ ì•Šì•„ë„ ë˜ëŠ” ê²ƒì´ë‹¤.</p>
</blockquote>

<p>ëª©ì ì„ íƒ€ì„ë¦¬í”„ì— ë‘ê¸° ìœ„í•´ ë³„ë„ì˜ DBëŠ” ì‚¬ìš©í•˜ì§€ ì•Šê² ìŠµë‹ˆë‹¤.</p>

<h5 id="project-structure">project structure</h5>
<p><img src="/img/in-post/thymeleaf/structure.png" />
í…œí”Œë¦¿ ì˜ì¡´ì„±(Thymeleaf, groovy, FreeMaker)ë“±ì„ ì¶”ê°€í•˜ê²Œ ë˜ë©´ ìŠ¤í”„ë§ ë¶€íŠ¸ëŠ” ìë™ì ìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">src/main/resources/templates</code>ê²½ë¡œë¥¼ ê¸°ë³¸ ê²½ë¡œë¡œ ì¸ì‹í•˜ê²Œ ëœë‹¤. íŠ¹ë³„í•œ ì‚¬í•­ì´ ìˆì§€ ì•Šìœ¼ë©´ ì•ì˜ ê²½ë¡œì— htmlíŒŒì¼ì„ ë§Œë“¤ë„ë¡ í•˜ì.</p>

<h6 id="templateindexhtml">template/index.html</h6>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre></td><td class="rouge-code"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">xmlns:th=</span><span class="s">"http://www.thymeleaf.org"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">th:href=</span><span class="s">"@{/css/index.css}"</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">type=</span><span class="s">"text/css"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;title&gt;</span>í™ˆí˜ì´ì§€<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;h1&gt;</span>íƒ€ì„ë¦¬í”„ ì˜ˆì œ í…Œì´ë¸”<span class="nt">&lt;/h1&gt;</span>
    <span class="nt">&lt;table&gt;</span>
        <span class="nt">&lt;thead&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;th&gt;</span>ë²ˆí˜¸<span class="nt">&lt;/th&gt;</span>
                <span class="nt">&lt;th&gt;</span>ì œëª©<span class="nt">&lt;/th&gt;</span>
                <span class="nt">&lt;th&gt;</span>ì‘ì„±ì<span class="nt">&lt;/th&gt;</span>
                <span class="nt">&lt;th&gt;</span>ë‚ ì§œ<span class="nt">&lt;/th&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
        <span class="nt">&lt;/thead&gt;</span>
        <span class="nt">&lt;tbody&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>1<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;</span>í…ŒìŠ¤íŠ¸ ì œëª© ì…ë‹ˆë‹¤.<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;</span>ì´ì¢…ë¯¼<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;</span>2020.03.12<span class="nt">&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
        <span class="nt">&lt;/tbody&gt;</span>
    <span class="nt">&lt;/table&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<h6 id="staticcssindexcss">/static/css/index.css</h6>
<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="nt">table</span> <span class="p">{</span>
    <span class="nl">font-family</span><span class="p">:</span> <span class="n">arial</span><span class="p">,</span> <span class="nb">sans-serif</span><span class="p">;</span>
    <span class="nl">border-collapse</span><span class="p">:</span> <span class="nb">collapse</span><span class="p">;</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">td</span><span class="o">,</span> <span class="nt">th</span> <span class="p">{</span>
    <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="m">#dddddd</span><span class="p">;</span>
    <span class="nl">text-align</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span>
    <span class="nl">padding</span><span class="p">:</span> <span class="m">8px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">tr</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">even</span><span class="o">)</span> <span class="p">{</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="m">#dddddd</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>ì¼ë‹¨ ê¸°ë³¸ì ìœ¼ë¡œ ìœ„ì™€ ê°™ì´ htmlê³¼ cssë¥¼ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤. cssëŠ” th:hrefë¥¼ í†µí•´ì„œ ì°¸ì¡°í•˜ê³  ìˆìŠµë‹ˆë‹¤. URLì€ @{..}ë¥¼ í†µí•´ì„œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì—¬ëŸ¬ ì¢…ë¥˜ì˜ URLì„ ì°¸ì¡°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<ul>
  <li>ì ˆëŒ€ URL : http:www.naver.com</li>
  <li>ìƒëŒ€ URL
    <ul>
      <li>í˜ì´ì§€ ê¸°ì¤€ : user/login.html</li>
      <li>ë¬¸ë§¥ê¸°ë¶„ : /itemdetails?id=3 (ì„œë²„ì˜ contextì´ë¦„ì´ ìë™ìœ¼ë¡œ ì¶”ê°€ëœë‹¤.)</li>
      <li>ì„œë²„ ìƒëŒ€ : ~/billing/processInvoice</li>
      <li>ê°™ì€ í”„ë¡œí† ì½œ ê¸°ì¤€ : //code.jquery.com/jquery-2.0.3.min.js</li>
    </ul>
  </li>
</ul>

<p>í”„ë¡œì íŠ¸ë¥¼ ì‹¤í–‰í•˜ê²Œ ë˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ í™”ë©´ì„ ë³¼ ìˆ˜ ìˆì„ ê²ƒ ì…ë‹ˆë‹¤.
<img src="/img/in-post/thymeleaf/ex1.png" /></p>

<p>ì´ì œ ë°ì´í„°ë¥¼ ë„˜ê²¨ ë°›ê¸° ìœ„í•œ ì²˜ë¦¬ë¥¼ í•˜ê² ìŠµë‹ˆë‹¤.</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Board</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kt">int</span> <span class="n">no</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">title</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">writer</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">LocalDateTime</span> <span class="n">updateTime</span><span class="o">;</span>

    <span class="nc">Board</span><span class="o">(){}</span>

    <span class="kd">public</span> <span class="nf">Board</span><span class="o">(</span><span class="kt">int</span> <span class="n">no</span><span class="o">,</span> <span class="nc">String</span> <span class="n">title</span><span class="o">,</span> <span class="nc">String</span> <span class="n">writer</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">no</span> <span class="o">=</span> <span class="n">no</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">title</span> <span class="o">=</span> <span class="n">title</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">writer</span> <span class="o">=</span> <span class="n">writer</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">updateTime</span> <span class="o">=</span> <span class="nc">LocalDateTime</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="c1">// getter, setter ìƒëµ</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="nd">@Controller</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ThymeController</span> <span class="o">{</span>

    <span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">"/"</span><span class="o">)</span>
    <span class="nc">String</span> <span class="nf">indexPage</span><span class="o">(</span><span class="nc">Model</span> <span class="n">model</span><span class="o">){</span>
        <span class="nc">Board</span> <span class="n">board</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Board</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="s">"í…ŒìŠ¤íŠ¸ ì œëª©"</span><span class="o">,</span> <span class="s">"ì´ì¢…ë¯¼2"</span><span class="o">);</span>
        <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"board"</span><span class="o">,</span> <span class="n">board</span><span class="o">);</span>
        <span class="k">return</span> <span class="s">"index"</span><span class="o">;</span>
    <span class="o">}</span>

<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>ê°„ë‹¨í•˜ê²Œ Controllerì™€ ê°ì²´ë¥¼ ë§Œë“¤ì–´ ë´¤ìŠµë‹ˆë‹¤. controllerì—ì„œ boardê°ì²´ë¥¼ index.htmlë¡œ ë„˜ê²¨ ì£¼ê¸° ë•Œë¬¸ì— ê°’ì„ ì¶œë ¥í•  ìˆ˜ ìˆë„ë¡ index.htmlì„ ìˆ˜ì •í•´ ë³´ê² ìŠµë‹ˆë‹¤.</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;tbody&gt;</span>
    <span class="nt">&lt;tr</span> <span class="na">th:object=</span><span class="s">"${board}"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;td&gt;&lt;span</span> <span class="na">th:text=</span><span class="s">"*{no}"</span><span class="nt">&gt;&lt;/span&gt;&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;&lt;span</span> <span class="na">th:text=</span><span class="s">"*{title}"</span><span class="nt">&gt;&lt;/span&gt;&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;&lt;span</span> <span class="na">th:text=</span><span class="s">"*{writer}"</span><span class="nt">&gt;&lt;/span&gt;&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;&lt;span</span> <span class="na">th:text=</span><span class="s">"${#temporals.format(board.updateTime, 'yyyy-MM-dd HH:mm')}"</span><span class="nt">&gt;&lt;/span&gt;&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
<span class="nt">&lt;/tbody&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p><img src="/img/in-post/thymeleaf/ex2.png" /></p>

<p>tableì˜ tbody ë¶€ë¶„ì„ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤. $ë¡œ ë³€ìˆ˜ë¥¼ ê°€ì ¸ì˜¤ê³  *ë¥¼ í†µí•´ì„œ ì„ íƒì  ë³€ìˆ˜ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤. ë‚ ì§œì˜ ê²½ìš° LocalDateTimeì„ ë³€í™˜í•˜ê¸° ìœ„í•´ì„œ temporalsê°œì²´ë¥¼ ì´ìš©í–ˆìŠµë‹ˆë‹¤. ì´ ì™¸ì—ë„ ë‹¤ì–‘í•œ ê°œì²´ë“¤ì´ ì¡´ì¬í•©ë‹ˆë‹¤.</p>
<ul>
  <li>#dates : java.util.Dateë¥¼ ë‹¤ë£¨ê¸° ìœ„í•´ ì‚¬ìš©.</li>
  <li>#calendars : #datesì™€ ë¹„ìŠ·í•˜ì§€ë§Œ java.util.Calendarë¥¼ ìœ„í•´ ì‚¬ìš©.</li>
  <li>#number : ìˆ«ì ê°ì²´ë¥¼ í˜•ì‹í™”í•˜ê¸° ìœ„í•´ ì‚¬ìš©.</li>
  <li>#strings : Stringê°ì²´ë¥¼ ìœ„í•´ ì‚¬ìš©.(contains, startsWith, prepending/appending ë“±)</li>
  <li>#objects : ì¼ë°˜ì ì¸ ê°ì²´ë¥¼ ë‹¤ë£¬ë‹¤.</li>
  <li>#bools : booleanì„ ìœ„í•´ ì‚¬ìš©.</li>
  <li>#arrays : ë°°ì—´ì„ ìœ„í•´ ì‚¬ìš©.</li>
  <li>#lists : ë¦¬ìŠ¤íŠ¸ë¥¼ ìœ„í•œ ìœ í‹¸ë¦¬í‹° ë©”ì†Œë“œ.</li>
  <li>#sets : setì„ ìœ„í•œ ìœ í‹¸ë¦¬í‹° ë©”ì†Œë“œ.</li>
  <li>#maps : mapì„ ìœ„í•œ ìœ í‹¸ë¦¬í‹° ë©”ì†Œë“œ.</li>
  <li>#aggreates : Array ë˜ëŠ” Collenctionì—ì„œ ì§‘ê³„ë¥¼ ìœ„í•œ ë©”ì†Œë“œ.</li>
  <li>#ids : ë°˜ë³µë  ìˆ˜ ìˆëŠ” id ì†ì„±ì„ ì²˜ë¦¬.</li>
</ul>

<h4 id="ë°˜ë³µë¬¸">ë°˜ë³µë¬¸</h4>
<p>ì´ì œ forë¬¸ì— ëŒ€í•´ ì•Œì•„ë³´ê¸° ìœ„í•´ ë°ì´í„°ë¥¼ ì¶”ê°€í•˜ê² ìŠµë‹ˆë‹¤.</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">"/"</span><span class="o">)</span>
<span class="nc">String</span> <span class="nf">indexPage</span><span class="o">(</span><span class="nc">Model</span> <span class="n">model</span><span class="o">){</span>
    <span class="nc">Board</span> <span class="n">board1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Board</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="s">"í…ŒìŠ¤íŠ¸ ì œëª©1"</span><span class="o">,</span> <span class="s">"ì´ì¢…ë¯¼1"</span><span class="o">);</span>
    <span class="nc">Board</span> <span class="n">board2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Board</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="s">"í…ŒìŠ¤íŠ¸ ì œëª©2"</span><span class="o">,</span> <span class="s">"ì´ì¢…ë¯¼2"</span><span class="o">);</span>
    <span class="nc">Board</span> <span class="n">board3</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Board</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="s">"í…ŒìŠ¤íŠ¸ ì œëª©3"</span><span class="o">,</span> <span class="s">"ì´ì¢…ë¯¼3"</span><span class="o">);</span>
    <span class="nc">Board</span> <span class="n">board4</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Board</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span> <span class="s">"í…ŒìŠ¤íŠ¸ ì œëª©4"</span><span class="o">,</span> <span class="s">"ì´ì¢…ë¯¼4"</span><span class="o">);</span>
    <span class="nc">Board</span> <span class="n">board5</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Board</span><span class="o">(</span><span class="mi">5</span><span class="o">,</span> <span class="s">"í…ŒìŠ¤íŠ¸ ì œëª©5"</span><span class="o">,</span> <span class="s">"ì´ì¢…ë¯¼5"</span><span class="o">);</span>
    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Board</span><span class="o">&gt;</span> <span class="n">boards</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
    <span class="n">boards</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">board1</span><span class="o">);</span>
    <span class="n">boards</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">board2</span><span class="o">);</span>
    <span class="n">boards</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">board3</span><span class="o">);</span>
    <span class="n">boards</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">board4</span><span class="o">);</span>
    <span class="n">boards</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">board5</span><span class="o">);</span>

    <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"boardList"</span><span class="o">,</span> <span class="n">boards</span><span class="o">);</span>
    <span class="k">return</span> <span class="s">"index"</span><span class="o">;</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;tbody&gt;</span>
    <span class="nt">&lt;tr</span> <span class="na">th:each=</span><span class="s">"board : ${boardList}"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;td&gt;&lt;span</span> <span class="na">th:text=</span><span class="s">"${board.no}"</span><span class="nt">&gt;&lt;/span&gt;&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;&lt;span</span> <span class="na">th:text=</span><span class="s">"${board.title}"</span><span class="nt">&gt;&lt;/span&gt;&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;&lt;span</span> <span class="na">th:text=</span><span class="s">"${board.writer}"</span><span class="nt">&gt;&lt;/span&gt;&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;&lt;span</span> <span class="na">th:text=</span><span class="s">"${#temporals.format(board.updateTime, 'yyyy-MM-dd HH:mm:ss')}"</span><span class="nt">&gt;&lt;/span&gt;&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
<span class="nt">&lt;/tbody&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ê°’ì„ Listì— ë‹´ì•„ì„œ ë„˜ê²¨ì£¼ì—ˆë‹¤. tbodyë¶€ë¶„ì—ì„œ <code class="language-plaintext highlighter-rouge">boardList</code>ì— ë‹´ê¸´ ê²ƒì„ foreachí˜•íƒœë¡œ êº¼ë‚´ì„œ ë°˜ë³µ ì¶œë ¥í•œë‹¤. ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.
<img src="/img/in-post/thymeleaf/ex3.png" />
ì§€ê¸ˆì€ Boardê°ì²´ì— noê°€ ìˆê¸° ë•Œë¬¸ì— ë²ˆí˜¸ë¥¼ ì¶œë ¥í•´ì£¼ì§€ë§Œ forë¬¸ ì²˜ëŸ¼ ìˆ«ìë¥¼ ì¦ê°€ì‹œí‚¤ê³  ì‹¶ìœ¼ë©´ ë‹¤ìŒê³¼ ê°™ì´ í•˜ë©´ëœë‹¤.</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;tbody&gt;</span>
    <span class="nt">&lt;tr</span> <span class="na">th:each=</span><span class="s">"board, iterState : ${boardList}"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;td&gt;&lt;span</span> <span class="na">th:text=</span><span class="s">"${iterState.index}"</span><span class="nt">&gt;&lt;/span&gt;&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;&lt;span</span> <span class="na">th:text=</span><span class="s">"${board.title}"</span><span class="nt">&gt;&lt;/span&gt;&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;&lt;span</span> <span class="na">th:text=</span><span class="s">"${board.writer}"</span><span class="nt">&gt;&lt;/span&gt;&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;&lt;span</span> <span class="na">th:text=</span><span class="s">"${#temporals.format(board.updateTime, 'yyyy-MM-dd HH:mm:ss')}"</span><span class="nt">&gt;&lt;/span&gt;&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
<span class="nt">&lt;/tbody&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>indexëŠ” 0ë¶€í„° ì‹œì‘í•˜ëŠ” ìƒ‰ì¸ì´ë‹¤. 1ë¶€í„° ì‹œì‘í•˜ê³  ì‹¶ë‹¤ë©´ countë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.</p>

<h3 id="ì¡°ê±´ë¬¸">ì¡°ê±´ë¬¸</h3>
<p>ì¡°ê±´ë¬¸ì—ëŠ” if, unless, switch, caseê°€ ìˆìŠµë‹ˆë‹¤. unlessëŠ” ifë¬¸ì˜ ë°˜ëŒ€ì´ê³ , switch~caseëŠ” ìë°”ì™€ ë™ì¼í•˜ê²Œ ìƒê°í•˜ì‹œë©´ ë©ë‹ˆë‹¤. ifë¬¸ì„ ì´ìš©í•´ì„œ ë²ˆí˜¸ê°€ í™€ìˆ˜ ì¼ë•Œë§Œ ì¶œë ¥í•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;tbody&gt;</span>
    <span class="nt">&lt;tr</span> <span class="na">th:each=</span><span class="s">"board, iterState : ${boardList}"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">th:if=</span><span class="s">"${iterState.count} % 2 != 0"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;td&gt;&lt;span</span> <span class="na">th:text=</span><span class="s">"${iterState.count}"</span><span class="nt">&gt;&lt;/span&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;td&gt;&lt;span</span> <span class="na">th:text=</span><span class="s">"${board.title}"</span><span class="nt">&gt;&lt;/span&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;td&gt;&lt;span</span> <span class="na">th:text=</span><span class="s">"${board.writer}"</span><span class="nt">&gt;&lt;/span&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;td&gt;&lt;span</span> <span class="na">th:text=</span><span class="s">"${#temporals.format(board.updateTime, 'yyyy-MM-dd HH:mm:ss')}"</span><span class="nt">&gt;&lt;/span&gt;&lt;/td&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
<span class="nt">&lt;/tbody&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p><img src="/img/in-post/thymeleaf/ex4.png" />
ê²°ê³¼ë¥¼ í™•ì¸í•´ ë³´ì‹œë©´ í™€ìˆ˜ë²ˆí˜¸ë§Œ ì¶œë ¥ë˜ëŠ” ê²ƒì„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p>switch~caseëŠ” ì•„ë˜ì™€ ê°™ì€ í˜•íƒœë¡œ ì‚¬ìš©ì´ ë©ë‹ˆë‹¤.</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;div</span> <span class="na">th:switch=</span><span class="s">"${user.role}"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;p</span> <span class="na">th:case=</span><span class="s">"'admin'"</span><span class="nt">&gt;</span>User is an administrator<span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;p</span> <span class="na">th:case=</span><span class="s">"#{roles.manager}"</span><span class="nt">&gt;</span>User is a manager<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ì´ ì™¸ì—ë„ fragment, block ë“± ë‹¤ì–‘í•œ ì‚¬ìš©ë²•ì´ ì¡´ì¬í•©ë‹ˆë‹¤. ë” ë§ì€ ì‚¬ìš©ë²•ì´ í•„ìš”í•˜ì‹œë‹¤ë©´ thymeleaf ê³µì‹ í™ˆí˜ì´ì§€ë¥¼ ì°¸ì¡°í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.</p>

<h4 id="ì°¸ê³ ">ì°¸ê³ </h4>
<ul>
  <li><a href="https://www.thymeleaf.org/doc/tutorials/2.1/usingthymeleaf.html#standard-htmlxml-comments">thymeleaf reference</a></li>
  <li>ìŠ¤í”„ë§ë¶€íŠ¸ë¡œ ë°°ìš°ëŠ” ìë°” ì›¹ ê°œë°œ (ì €ì : ìœ¤ì„ì§„)</li>
</ul>
:ET