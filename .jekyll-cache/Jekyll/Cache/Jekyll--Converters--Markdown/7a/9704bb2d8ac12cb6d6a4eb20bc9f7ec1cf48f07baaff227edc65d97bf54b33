I"²E<h4 id="ê´€ë ¨ëœ-ê¸€">ê´€ë ¨ëœ ê¸€</h4>
<ol>
  <li><strong><a href="/2020/02/09/jpa1">[JAVA] JPA(Java Persistence API)ë€?(1)</a></strong></li>
  <li><strong><a href="/2020/02/09/jpa2">[JAVA] JPA ê¸°ë³¸ì„¤ì • ë° ê°ì²´ìƒì„±(2)</a></strong></li>
  <li><strong><a href="/2020/02/10/jpa3">[JAVA] JPA ì–´ë…¸í…Œì´ì…˜ ë° íŠ¸ëœì­ì…˜(3)</a></strong></li>
  <li><strong><a href="/2020/02/10/jpa4">[JAVA] JPA ì—°ê´€ê´€ê³„(4)</a></strong></li>
  <li><strong><a href="/2020/02/11/jpa5">[JAVA] JPA ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸(5)</a></strong></li>
</ol>

<p>ì´ì „ ì‹œê°„ì— Memberì™€ Clubê°ì²´ë¥¼ ìƒì„±í–ˆìŠµë‹ˆë‹¤. ì´ ë‘ ê°ì²´ë¥¼ ì´ìš©í•´ì„œ JPAì— ëŒ€í•´ ì¢€ë” ì•Œì•„ ë³´ê² ìŠµë‹ˆë‹¤.</p>

<p>ì‹¤ìŠµì€ TEST Codeë¡œ ì§„í–‰í•  ìˆ˜ ìˆì§€ë§Œ <strong>h2-console</strong>ì„ í™œìš©í•˜ê¸° ìœ„í•´ì„œ main applicaionì—ì„œ ì§„í–‰í•˜ì˜€ìŠµë‹ˆë‹¤.<br />
<strong>main Apllication</strong></p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre></td><td class="rouge-code"><pre><span class="nd">@SpringBootApplication</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">DemoApplication</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">SpringApplication</span><span class="o">.</span><span class="na">run</span><span class="o">(</span><span class="nc">DemoApplication</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">args</span><span class="o">);</span>

        <span class="nc">EntityManagerFactory</span> <span class="n">entityManagerFactory</span> <span class="o">=</span> <span class="nc">Persistence</span><span class="o">.</span><span class="na">createEntityManagerFactory</span><span class="o">(</span><span class="s">"jongmin"</span><span class="o">);</span>
        <span class="nc">EntityManager</span> <span class="n">entityManager</span> <span class="o">=</span> <span class="n">entityManagerFactory</span><span class="o">.</span><span class="na">createEntityManager</span><span class="o">();</span>
        <span class="nc">EntityTransaction</span> <span class="n">transaction</span> <span class="o">=</span> <span class="n">entityManager</span><span class="o">.</span><span class="na">getTransaction</span><span class="o">();</span>

        <span class="c1">// íŠ¸ëœì­ì…˜ ì‹œì‘</span>
        <span class="n">transaction</span><span class="o">.</span><span class="na">begin</span><span class="o">();</span>
        <span class="k">try</span><span class="o">{</span>
            <span class="nc">Member</span> <span class="n">member</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Member</span><span class="o">();</span>
            <span class="n">member</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"jongmin"</span><span class="o">);</span>
            <span class="n">member</span><span class="o">.</span><span class="na">setAge</span><span class="o">(</span><span class="mi">30</span><span class="o">);</span>
            <span class="n">entityManager</span><span class="o">.</span><span class="na">persist</span><span class="o">(</span><span class="n">member</span><span class="o">);</span> <span class="c1">// ì˜êµ¬ì €ì¥</span>

            <span class="n">transaction</span><span class="o">.</span><span class="na">commit</span><span class="o">();</span> <span class="c1">// ì»¤ë°‹</span>
        <span class="o">}</span><span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">){</span>
            <span class="n">transaction</span><span class="o">.</span><span class="na">rollback</span><span class="o">();</span>
        <span class="o">}</span><span class="k">finally</span> <span class="o">{</span>
            <span class="n">entityManager</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="n">entityManagerFactory</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
    <span class="o">}</span>

<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<ol>
  <li><strong>EntityManagerFactory</strong>ë¥¼ ì´ìš©í•˜ì—¬ persistence.xmlì—ì„œ ì§€ì •í•œ ì„¤ì •ì„ ê°€ì§€ê³  ì˜µë‹ˆë‹¤.
  ì´ ì „ì— ì§€ì •í•œ persistence.xmlì„¤ì •ì—ì„œ <code class="language-plaintext highlighter-rouge">&lt;persistence-unit name="jongmin"&gt;</code>ì— ì§€ì •í•œ nameìœ¼ë¡œ ì„¤ì •ì„ ê°€ì§€ê³  ì˜µë‹ˆë‹¤.</li>
  <li><strong>EntityManager</strong>ë¥¼ ìƒì„±í•˜ê³  <strong>Transaction</strong>ì„ ì–»ìŠµë‹ˆë‹¤.</li>
  <li>íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•˜ê³  Memberê°ì²´ë¥¼ ë§Œë“¤ì–´ ê°’ì„ ë„£ì€ í›„ <strong>persist</strong>ë¥¼ í†µí•´ì„œ ê°’ì„ ë„£ì–´ì¤ë‹ˆë‹¤.</li>
  <li><strong>commit()</strong>í•´ì£¼ì–´ ê°’ì„ ë¬¼ë¦¬ì ìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ì— ë„£ì–´ì£¼ê³  <strong>close</strong>í•´ì¤ë‹ˆë‹¤.(ì—ëŸ¬ì‹œ rollback)</li>
</ol>

<p>EntityManagerFactoryëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì²´ì—ì„œ í•˜ë‚˜ë§Œ ìƒì„±í•˜ì—¬ ê³µìœ í•´ì•¼í•©ë‹ˆë‹¤. EntityManagerFactoryë¥¼ ìƒì„±í•  ë•Œë§ˆë‹¤ DBì™€ì˜ ì—°ê²°ì´ ë°œìƒí•¨ìœ¼ë¡œ ì„±ëŠ¥ìƒì— ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.<br />
(DBì™€ì˜ ì—°ê²°ì„ í•´ì£¼ëŠ” ì¸í„°í˜ì´ìŠ¤ë¼ê³  ìƒê°í•©ë‹ˆë‹¤.)<br />
EntityManagerëŠ” EntityManagerFactoryì˜ êµ¬í˜„ì²´ì…ë‹ˆë‹¤. EntityManagerë¥¼ í†µí•´ì„œ DBì™€ ë°ì´í„°ë¥¼ ì£¼ê³  ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ëª¨ë“  Transactionì´ ëë‚˜ë©´ close()ë¥¼ ì‚¬ìš©í•´ì„œ ìì›ì„ í•´ì œí•©ë‹ˆë‹¤.</p>

<h4 id="ì£¼ì˜ì‚¬í•­">ì£¼ì˜ì‚¬í•­</h4>
<ul>
  <li>ëª¨ë“  ë³€í™”(update, delete, save)ëŠ” Transactionì•ˆì—ì„œ ì¼ì–´ë‚˜ì•¼ í•©ë‹ˆë‹¤.</li>
  <li>EntityManagerFactoryëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì²´ì— í•˜ë‚˜ë§Œ ìƒì„±í•˜ì—¬ ê³µìœ í•´ì•¼ í•©ë‹ˆë‹¤.</li>
  <li>Transactionì´ ëë‚˜ë©´ close()ë¥¼ í†µí•´ì„œ ìì›ì„ í•´ì œì‹œì¼œì•¼ í•©ë‹ˆë‹¤.</li>
  <li>EntityManagerëŠ” ì“°ë ˆë“œê°„ì— ê³µìœ í•´ì„œëŠ” ì•ˆëœë‹¤.(ì‚¬ìš©í•˜ê³  ë²„ë¦°ë‹¤.)
    <blockquote>
      <p>ì°¸ê³ <br />
persist()ë¥¼ ìˆ˜í–‰í–ˆë‹¤ê³  ë°ì´í„°ë² ì´ìŠ¤ì— ê°’ì´ ì™„ì „íˆ ë“¤ì–´ê°€ëŠ” ê²ƒì´ ì•„ë‹™ë‹ˆë‹¤!!<br />
commit()ì„ í•´ì•¼ ë¬¼ë¦¬ì ìœ¼ë¡œ ë°ì´í„°í˜ì´ìŠ¤ì— ë“¤ì–´ê°€ë©° ì´ë¶€ë¶„ì€ ë’¤ì—ì„œ ë‹¤ë£¨ê² ìŠµë‹ˆë‹¤.</p>
    </blockquote>
  </li>
</ul>

<p>main ë©”ì†Œë“œë¥¼ ìˆ˜í–‰í•œ í›„ ê²°ê³¼ë¥¼ í™•ì¸í•´ ë³´ê² ìŠµë‹ˆë‹¤. ë¨¼ì € consoleì°½ ì…ë‹ˆë‹¤.
<strong>console</strong>
<img src="/img/in-post/jpa3/console1.png" />
<img src="/img/in-post/jpa3/console2.png" />
ë‹¤ë¥¸ íŠ¹ë³„í•œ ì‘ì—…ì„ í•˜ì§€ ì•Šì•˜ìŒì—ë„ ë¶ˆêµ¬í•˜ê³  <code class="language-plaintext highlighter-rouge">create table</code>ì„ í†µí•´ì„œ í…Œì´ë¸”ì„ ìƒì„±í•˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ê²ƒì´ persistence.xmlì— <code class="language-plaintext highlighter-rouge">&lt;property name="hibernate.hbm2ddl.auto" value="create" /&gt;</code>ë¥¼ ì§€ì •í–ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.<br />
ì—¬ê¸°ì„œëŠ” ìº¡ì³í•˜ì§€ ì•Šì•˜ì§€ë§Œ í…Œì´ë¸”ì„ ìƒì„±í•˜ê¸° ì „ì— <code class="language-plaintext highlighter-rouge">drop table Member if exists</code>ì„ ë¨¼ì € ìˆ˜í–‰í•˜ëŠ” ê²ƒì„ ì½˜ì†”ì—ì„œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤. ê·¸ ë‹¤ìŒ <strong>persist</strong>ë¥¼ í†µí•´ì„œ ë°ì´í„°ë² ì´ìŠ¤ì— ê°’ì„ ë„£ì–´ì£¼ì–´ <strong>insert</strong>ì¿¼ë¦¬ê°€ ìë™ìœ¼ë¡œ ë‚ ë¼ê°€ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br />
<img src="/img/in-post/jpa3/h2-member.png" style="width:600px; height:400px" />
h2-consoleì— ì ‘ì†í•˜ì—¬ Member ê°ì²´ë¥¼ í™•ì¸í•´ë³´ë©´ ê°’ì´ ì„±ê³µì ìœ¼ë¡œ ë“¤ì–´ê°„ ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì„œ IDëŠ” ê°’ì„ ë”°ë¡œ ë„£ì–´ì£¼ì§€ ì•Šì•˜ì§€ë§Œ <em>1</em>ê°’ì´ ë“¤ì–´ê°€ ìˆìŠµë‹ˆë‹¤. ì €í¬ê°€ Memberê°ì²´ë¥¼ ë§Œë“¤ë•Œ <code class="language-plaintext highlighter-rouge">@GeneratedValue</code>ë¥¼ ì§€ì •í–ˆê¸° ë•Œë¬¸ì— H2ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ìì²´ì ìœ¼ë¡œ ë§Œë“¤ì–´ ì£¼ì—ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p>

<p>ì´ì œ ì¶”ê°€ì ì¸ ì–´ë…¸í…Œì´ì…˜ì—ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.</p>
<h5 id="column">@Column</h5>
<p>ê°€ì¥ ë§ì´ ì‚¬ìš©í•˜ëŠ” ì–´ë…¸í…Œì´ì…˜ì…ë‹ˆë‹¤.</p>
<ul>
  <li>name : ë°ì´í„°ë² ì´ìŠ¤ì˜ Columnì´ë¦„ ì§€ì •</li>
  <li>insertable, updateble : ì½ê¸° ì „ìš©ì—¬ë¶€</li>
  <li>nullable : null í—ˆìš© ì—¬ë¶€, DDL ìƒì„±ì‹œ ì‚¬ìš©</li>
  <li>unique : ìœ ë‹ˆí¬ ì œì•½ì¡°ê±´, DDL ìƒì„±ì‹œ ì‚¬ìš©</li>
</ul>

<h5 id="enumerated">@Enumerated</h5>
<p>ì—´ê±°í˜• ë§¤í•‘ìœ¼ë¡œ Enum íƒ€ì…ê³¼ ê´€ë ¨í•˜ì—¬ ë§¤í•‘í•´ì¤ë‹ˆë‹¤.</p>
<ul>
  <li>EnumType.STRING : String íƒ€ì…ìœ¼ë¡œ ì—´ê±°í˜• ì´ë¦„ê·¸ëŒ€ë¡œ ì €ì¥í•´ì¤ë‹ˆë‹¤.</li>
  <li>EnumType.ORDINAL : ìˆœì„œë¥¼ ì €ì¥í•´ì¤ë‹ˆë‹¤.(default)</li>
  <li>ì‹¤ì œë¡œ ì‚¬ìš©í•  ë•ŒëŠ” EnumType.STRINGì„ ì‚¬ìš©í•´ ì¤ì‹œë‹¤.
    <blockquote>
      <p>Enum Typeì´ ì¶”ê°€ë˜ì„œ ìˆœì„œê°€ ë³€ê²½ë˜ë©´ ORDINALì´ ë¬´ì˜ë¯¸ í•´ì§€ê¸° ë•Œë¬¸ì— STRINGì„ ì‚¬ìš©ì„ ê¶Œì¥.</p>
    </blockquote>
  </li>
</ul>

<h5 id="lob">@Lob</h5>
<p>ì»¨í…ì¸ ì˜ ê¸¸ì´ê°€ ê¸¸ê²½ìš° ì‚¬ìš©í•©ë‹ˆë‹¤.(CLOB, BLOB)</p>
<ul>
  <li>CLOB : String, char[], java.sql.CLOB</li>
  <li>BLOB : byte[], java.sql.BLOB</li>
</ul>

<h5 id="transient">@Transient</h5>
<p>Transientì–´ë…¸í…Œì´ì…˜ì´ ì¶”ê°€ëœ í•„ë“œëŠ” ë§¤í•‘í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë°ì´í„°ë² ì´ìŠ¤ì—ì„œëŠ” ì‚¬ìš©í•˜ì§€ ì•Šì§€ë§Œ Classì— ì¶”ê°€í•˜ê³  ì‹¶ì€ ê²½ìš° ì‚¬ìš©í•©ë‹ˆë‹¤.</p>

<h5 id="temporal">@Temporal</h5>
<p>ì‹œê°„ì— ê´€ë ¨ëœ ì–´ë…¸í…Œì´ì…˜ ì…ë‹ˆë‹¤.</p>
<ul>
  <li>Date(java.sql.Date)</li>
  <li>Time(java.sql.Time)</li>
  <li>TimeStamp(java.sql.TimeStamp)
    <blockquote>
      <p>ê·¸ëŸ¬ë‚˜ LocalDateTimeì´ ìˆìœ¼ë¯€ë¡œ ì˜ ì‚¬ìš©í•˜ì§€ ì•Šê²Œ ë˜ëŠ” ì–´ë…¸í…Œì´ì…˜ì…ë‹ˆë‹¤.</p>
    </blockquote>
  </li>
</ul>

<h5 id="embedded">@Embedded</h5>
<p>ê·¸ ë‹¤ìŒ @Embeddable, @Embedded, @AttributeOverrides, @AttributeOverride ë“±ì´ ìˆìŠµë‹ˆë‹¤.
ì´ 4ê°œì˜ ì–´ë…¸í…Œì´ì…˜ì€ í•œë²ˆì— ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.(ì•„ë˜ì˜ ì˜ˆì‹œê°€ ì ì ˆí•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤â€¦)</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre><span class="nd">@Entity</span>
<span class="nd">@Getter</span> <span class="nd">@Setter</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Member</span> <span class="o">{</span>

    <span class="nd">@Id</span>
    <span class="nd">@GeneratedValue</span><span class="o">(</span><span class="n">strategy</span> <span class="o">=</span> <span class="nc">GenerationType</span><span class="o">.</span><span class="na">AUTO</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">Long</span> <span class="n">id</span><span class="o">;</span>

    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>

    <span class="nd">@Enumerated</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="nc">EnumType</span><span class="o">.</span><span class="na">STRING</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">RoleType</span> <span class="n">roleType</span><span class="o">;</span>

    <span class="kd">private</span> <span class="nc">String</span> <span class="n">friendName</span><span class="o">;</span>

    <span class="kd">private</span> <span class="nc">String</span> <span class="n">friendPhone</span><span class="o">;</span>

<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>Member ê°ì²´ê°€ ìœ„ì™€ ê°™ì´ êµ¬ì„±ë˜ì–´ ìˆë‹¤ê³  í•˜ê² ìŠµë‹ˆë‹¤.(Getter, SetterëŠ” Lombokì„ ì´ìš©í•´ì„œ ì²˜ë¦¬í–ˆìŠµë‹ˆë‹¤.)
ì•„ë˜ì˜ friend(ì¹œêµ¬)ì™€ ê´€ë ¨ëœ ì»¬ëŸ¼ì´ ìˆë‹¤ê³  í•  ë•Œ ì´ ì»¬ëŸ¼ì„ ë”°ë¡œ ê´€ë¦¬í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤. í…Œì´ë¸”ì—ì„œëŠ” ë¶„ë¦¬í•˜ì§€ ì•Šê³  ê°ì²´(í´ë˜ìŠ¤)ë§Œì„ ë¶„ë¦¬í•´ì„œ ì‚¬ìš©í•˜ê³  ì‹¶ì„ ë•Œ ìœ„ì˜ ì–´ë…¸í…Œì´ì…˜ë“¤ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br />
ë¨¼ì € ë¶„ë¦¬ì‹œí‚¬ <strong>Friend</strong>í´ë˜ìŠ¤ë¥¼ ìƒì„±í•´ì¤ë‹ˆë‹¤.</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="nd">@Embeddable</span>
<span class="nd">@Getter</span> <span class="nd">@Setter</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Friend</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">phoneNumber</span><span class="o">;</span>

<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>ë¶„ë¦¬ì‹œí‚¨ Friendí´ë˜ìŠ¤ì— <strong>@Embeddable</strong>ì–´ë…¸í…Œì´ì…˜ì„ ì¶”ê°€í•´ì¤ë‹ˆë‹¤. ê·¸ ë‹¤ìŒ <strong>Member</strong>í´ë˜ìŠ¤ë¥¼ ë°”ê¿” ë³´ê² ìŠµë‹ˆë‹¤.</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre><span class="nd">@Entity</span>
<span class="nd">@Getter</span> <span class="nd">@Setter</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Member</span> <span class="o">{</span>

    <span class="nd">@Id</span>
    <span class="nd">@GeneratedValue</span><span class="o">(</span><span class="n">strategy</span> <span class="o">=</span> <span class="nc">GenerationType</span><span class="o">.</span><span class="na">AUTO</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">Long</span> <span class="n">id</span><span class="o">;</span>

    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>

    <span class="nd">@Enumerated</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="nc">EnumType</span><span class="o">.</span><span class="na">STRING</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">RoleType</span> <span class="n">roleType</span><span class="o">;</span>

    <span class="nd">@Embedded</span>
    <span class="kd">private</span> <span class="nc">Friend</span> <span class="n">friend</span><span class="o">;</span>
    
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>ìœ„ì™€ ê°™ì´ <strong>@Embedded</strong> ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ì—¬ ë¶„ë¦¬ì‹œí‚¨ <strong>Friend</strong>í´ë˜ìŠ¤ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br />
ì´ëŒ€ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤. ê·¸ ì´ìœ ëŠ” <code class="language-plaintext highlighter-rouge">nameì»¬ëŸ¼ì´ ì¤‘ë³µë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</code> ê¸°ì¡´ì—ëŠ” <strong>friendName</strong>ì„ ì‚¬ìš©í–ˆì§€ë§Œ ë¶„ë¦¬ì‹œí‚¤ë©´ì„œ <strong>name</strong>ìœ¼ë¡œ ë³€ê²½ ì‹œì¼°ìŠµë‹ˆë‹¤. ì´ ê²½ìš° <strong>@AttributeOverrides</strong>ì„ ì‚¬ìš©í•˜ì—¬ ë¶„ë¦¬í•œ í´ë˜ìŠ¤ì˜ ë§¤í•‘ëª…ì„ ì§€ì •í•´ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="nd">@Embedded</span>
<span class="nd">@AttributeOverrides</span><span class="o">(</span>
    <span class="nd">@AttributeOverride</span><span class="o">(</span> <span class="n">name</span> <span class="o">=</span> <span class="s">"name"</span><span class="o">,</span> <span class="n">column</span> <span class="o">=</span> <span class="nd">@Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"friendNsame"</span><span class="o">)),</span>
    <span class="nd">@AttributeOverride</span><span class="o">(</span> <span class="n">name</span> <span class="o">=</span> <span class="s">"phoneNumber"</span><span class="o">,</span> <span class="n">column</span> <span class="o">=</span> <span class="nd">@Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"friendPhsne"</span><span class="o">))</span>
<span class="o">)</span>
<span class="kd">private</span> <span class="nc">Friend</span> <span class="n">friends</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>ë‹¤ìŒê³¼ ê°™ì´ ì§€ì •í•˜ë¯€ë¡œì¨ ë§¤í•‘í•  ì»¬ëŸ¼ëª…ì„ ë°”ê¿”ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p>ì—¬ê¸°ê¹Œì§€ <strong>Transactionê³¼ ê¸°íƒ€ ì–´ë…¸í…Œì´ì…˜</strong>ì— ëŒ€í•´ ì•Œì•„ë´¤ìŠµë‹ˆë‹¤.<br />
ë‹¤ìŒ ì‹œê°„ì—ëŠ” ê°€ì¥ ì¤‘ìš”í•œ <strong>ì—°ê´€ê´€ê³„</strong>ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.</p>

<p>ì „ì²´ ì½”ë“œëŠ” <a href="https://github.com/JongMinLee0/java-persistence-api">Github</a>ì—ì„œ í™•ì¸í•´ë³´ì‹¤ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<h5 id="ì°¸ê³ ">ì°¸ê³ </h5>
<ul>
  <li>objectdb (https://www.objectdb.com/java/jpa/persistence/overview)</li>
  <li>Baeldung (https://www.baeldung.com/hibernate-date-time)</li>
  <li>SKplanet Academy (https://www.youtube.com/channel/UCtV98yyffjUORQRGTuLHomw)</li>
</ul>
:ET