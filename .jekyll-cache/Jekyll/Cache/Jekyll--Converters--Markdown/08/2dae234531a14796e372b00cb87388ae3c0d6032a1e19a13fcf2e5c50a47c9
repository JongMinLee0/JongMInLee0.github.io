I"<p><br /></p>

<p>개발을 하다보면 <strong>javascript</strong>를 이용하여 <strong>ajax</strong>통신을 할 떄가 있습니다.(jquery를 쓰든 안쓰든) 이럴 때 종종 <code class="language-plaintext highlighter-rouge">No Access-Control-Allow-Origin header is...CORS disabled</code>하며 발생하는 에러를 만나볼 수 있습니다. 이 에러는 무엇이고 어떻게 해결할 수 있는지 알아보도록 하겠습니다.</p>

<p><br /></p>

<h2 id="security-policy--same-origin">Security Policy : Same-Origin</h2>

<p>웹 사이트는 종종 다른 서버에 요청을 전송하곤 합니다. 서버는 다른 서비스의 요청으로부터 서버를 지키기 위해 보안 정책을 사용합니다. 그 중 하나가 <strong>Same-Origin</strong> 입니다.<br />
<strong>Same-Origin</strong> 정책(policy)은 매우 제한적 입니다. 이 정책내에서는 <strong>A</strong>서버의 문서(Resource)가 <strong>A</strong>서버의 다른 문서와만 상호작용 할 수 있습니다. 간단히 말하면 같은 서버(Same origin)에서만 문서가 상호작용 할 수 있도록 강제하는 것 입니다. Same-Origin을 판단하는 기준은 <strong>Protocol</strong>, <strong>Port(명시한 경우)</strong>, <strong>Host</strong> 입니다. 이 것들이 모두 같아야 <strong>Same-Origin</strong>이라고 말할 수 있습니다.<br />
예를 들어 다음과 같은 URL이 있다고 하겠습니다.</p>
<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>http://www.example.com/index.html
</pre></td></tr></tbody></table></code></pre></div></div>
<p>이 URL을 기준으로 다른 요청들에 대해 결과를 확인해 보겠습니다.</p>

<table>
  <thead>
    <tr>
      <th>URL</th>
      <th>결과</th>
      <th>이유</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>http://www.example.com/ex/ex.html</td>
      <td>성공</td>
      <td>경로만 다름</td>
    </tr>
    <tr>
      <td>https://www.example.com/index.html</td>
      <td>실패</td>
      <td>Protocol 다름</td>
    </tr>
    <tr>
      <td>http://www.example2.com/index.html</td>
      <td>실패</td>
      <td>Host 다름</td>
    </tr>
    <tr>
      <td>http://www.example.com:82/index.html</td>
      <td>실패</td>
      <td>Port 다름</td>
    </tr>
  </tbody>
</table>

<p>위의 테이블에서 볼 수 있듯이 보안에는 문제가 없지만 상당히 제한적인 요청만 받을 수 있습니다.<br />
이를 발전 시켜 나온 것이 <strong>CORS</strong> 입니다.</p>

<p><br /></p>

<h2 id="corscross-origin-resource-sharing">CORS(Cross-Origin Resource Sharing)</h2>

<p>Origin의 외부에서 Resource를 요청하는 것을 <strong>Cross-Origin</strong>이라고 합니다. <strong>CORS</strong>는 이 Cross-Origin을 관리하는 것을 말합니다.</p>

<p><br /></p>

<h2 id="ref">Ref</h2>
<ul>
  <li>https://auth0.com/blog/cors-tutorial-a-guide-to-cross-origin-resource-sharing/</li>
  <li>https://www.codecademy.com/articles/what-is-cors</li>
  <li>https://developer.mozilla.org/ko/docs/Web/HTTP/CORS</li>
</ul>
:ET